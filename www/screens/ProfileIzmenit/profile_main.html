<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../ui-kit/css/bootstrap.css">
    <link rel="stylesheet" href="../../ui-kit/css/styles.css">
    <link rel="stylesheet" href="style.css">

    <title>Profile+avatar</title>
</head>
<body onload="check_credentials()">
    <div class="screen-hat">
        <button class="btn arrow-back">
            <a href="../Profile-main/profile-main.html">
                <img src="../../ui-kit/svg/arrow_back.svg" alt="arrow-back">
            </a>
        </button>
        <div class="mb-3">
            <h3 class="text-header">
                Профиль
            </h3>
        </div>
    </div>

    <div class="profile-screen">
        <div class="avatar-area">
            <img src="../../ui-kit/img/avatar.png" alt="roma.jpeg" class="avatar-area__image">
            <h3 class="text-bold" id="header-name">
                Григорий
            </h3>    
            <div>
                <a onclick="apply_changes()" href="#" class="edit-link" style="color:rgba(255, 113, 22, 1);"><img src="../../ui-kit/svg/icon_orange.svg" alt="edit__ico" class="edit-link__ico">Изменить</a>
            </div>
        </div>
        <div class="panel d-inline-flex align-items-center mt-5">
            <div class="me-3"><h3 class="text-common">Имя</h3></div>
            <div class="w-100">
                <input type="email" class="form-control" id="name" placeholder="">
            </div>
        </div>
        <div class="panel d-inline-flex align-items-center">
            <div class="me-3"><h3 class="text-common">Пол</h3></div>
            <div class="w-100">
                <input type="email" class="form-control" id="sex" placeholder="">
            </div>
        </div>
        <div class="panel d-inline-flex align-items-center">
            <div class="me-3"><h3 class="text-common">Дата рождения</h3></div>
            <div class="me-3">
                <input type="email" class="form-control" id="birth1" placeholder="">
            </div>
            <div class="me-3">
                <input type="email" class="form-control" id="birth2" placeholder="">
            </div>
            <div class="w-100">
                <input type="email" class="form-control" id="birth3" placeholder="">
            </div>
        </div>
        <div class="panel d-inline-flex align-items-center">
            <div class="me-3"><h3 class="text-common">E-mail</h3></div>
            <div class="w-100">
                <input type="email" class="form-control" id="email" placeholder="">
            </div>
        </div>
        <div class="panel d-inline-flex align-items-center">
            <div class="me-3"><h3 class="text-common">Телефон</h3></div>
            <div class="w-100">
                <input type="email" class="form-control" id="phone" placeholder="">
            </div>
        </div>
    </div>
    <script>
        function check_credentials(){
            if(localStorage != undefined){
                ['name','sex','birth1','birth2','birth3','email','phone'].forEach(el=>{
                    if (localStorage.getItem(el) != null && localStorage.getItem(el).length > 0){
                        document.getElementById(el).value = localStorage.getItem(el);
                    }else{
                        document.getElementById(el).value = '';
                    }
                });
                if (localStorage.getItem('name') != null && localStorage.getItem('name').length > 0){
                    document.getElementById('header-name').innerHTML = localStorage.getItem('name');
                }
            }
        }
        function apply_changes(){
            if(localStorage != undefined){
                ['name','sex','birth1','birth2','birth3','email','phone'].forEach(el=>{
                    console.log(document.getElementById(el))
                    localStorage.setItem(el,document.getElementById(el).value);
                });
            }
            check_credentials();
        }
    </script>

</body>
</html>